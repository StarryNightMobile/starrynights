<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Starry Mobile Space</title>

<style>
:root{
  --primary:#0B3D78;
  --accent:#1F6ED4;
  --muted:#2A4B77;
  --bg:#EEF0F2;
  --card:#FFFFFF;
  --shadow:rgba(11,61,120,0.12);
}

body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:var(--bg);
}

header{
  background:linear-gradient(135deg,var(--primary),var(--accent));
  color:white;
  text-align:center;
  padding:25px 15px;
}

header img{height:70px;margin-bottom:10px}

#controls{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:center;
  padding:20px;
}

select,input{
  padding:10px;
  border-radius:6px;
  border:1px solid #ccc;
}

#shop{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:20px;
  padding:20px;
}

.card{
  background:var(--card);
  border-radius:12px;
  padding:15px;
  text-align:center;
  box-shadow:0 5px 15px var(--shadow);
}

button{
  border:none;
  padding:10px;
  border-radius:6px;
  cursor:pointer;
  font-weight:bold;
}

.primary{background:var(--primary);color:white}
.primary:hover{background:var(--accent)}

.badge{
  display:inline-block;
  padding:4px 8px;
  border-radius:4px;
  font-size:12px;
  margin-bottom:6px;
}

.stock{background:#d4f5d4}
.preorder{background:#ffe5b4}

#cart{
  position:fixed;
  right:20px;
  top:20px;
  width:260px;
  background:white;
  padding:15px;
  border-radius:12px;
  box-shadow:0 5px 15px rgba(0,0,0,0.2);
  max-height:80vh;
  overflow:auto;
}

.admin{
  margin:20px;
  padding:20px;
  background:white;
  border-radius:12px;
}
</style>
</head>

<body>

<header>
  <img src="logo.png">
  <h1>Starry Mobile Space</h1>
</header>

<div id="controls">
<select id="brandFilter">
<option value="All">All Brands</option>
<option value="Apple">Apple</option>
<option value="Samsung">Samsung</option>
<option value="Tecno">Tecno</option>
<option value="Xiaomi">Xiaomi</option>
</select>

<input id="search" placeholder="Search phone">
</div>

<div id="shop"></div>

<div id="cart">
<h3>Cart</h3>
<div id="cartItems"></div>
<p>Total: $<span id="total">0</span></p>

<select id="paymentType">
<option value="full">Full Payment</option>
<option value="cash">Cash on Delivery</option>
<option value="preorder">Pre Order (70% deposit)</option>
</select>

<p id="paymentSummary"></p>
<button class="primary" onclick="checkout()">Checkout</button>
</div>

<div class="admin">
<h3>Admin Panel</h3>
<input id="adminName" placeholder="Phone name">
<input id="adminPrice" placeholder="Price">
<select id="adminBrand">
<option>Apple</option>
<option>Samsung</option>
<option>Tecno</option>
<option>Xiaomi</option>
</select>
<select id="adminStock">
<option value="stock">In Stock</option>
<option value="preorder">Pre Order</option>
</select>
<button class="primary" onclick="addProductAdmin()">Add Phone</button>
</div>

<script>

const baseProducts=[

/* iPhones */
{name:'iPhone 16 Pro Max',brand:'Apple',price:1900,status:'stock'},
{name:'iPhone 16 Pro',brand:'Apple',price:1700,status:'stock'},
{name:'iPhone 15 Pro Max',brand:'Apple',price:1500,status:'stock'},
{name:'iPhone 15 Pro',brand:'Apple',price:1350,status:'stock'},
{name:'iPhone 14 Pro Max',brand:'Apple',price:1200,status:'stock'},
{name:'iPhone 14 Pro',brand:'Apple',price:1100,status:'stock'},
{name:'iPhone 13 Pro Max',brand:'Apple',price:950,status:'stock'},
{name:'iPhone 13',brand:'Apple',price:700,status:'stock'},
{name:'iPhone 12',brand:'Apple',price:550,status:'stock'},
{name:'iPhone 11',brand:'Apple',price:450,status:'stock'},
{name:'iPhone SE 3',brand:'Apple',price:350,status:'stock'},

/* Samsung */
{name:'Galaxy S24 Ultra',brand:'Samsung',price:1200,status:'stock'},
{name:'Galaxy S23 Ultra',brand:'Samsung',price:1000,status:'stock'},
{name:'Galaxy S22',brand:'Samsung',price:650,status:'stock'},
{name:'Galaxy Z Fold5',brand:'Samsung',price:1800,status:'preorder'},
{name:'Galaxy Z Flip5',brand:'Samsung',price:1100,status:'stock'},

/* Tecno */
{name:'Tecno Camon 20',brand:'Tecno',price:280,status:'stock'},
{name:'Tecno Phantom X2',brand:'Tecno',price:600,status:'preorder'},

/* Xiaomi */
{name:'Redmi Note 13',brand:'Xiaomi',price:260,status:'stock'},
{name:'Xiaomi 13 Pro',brand:'Xiaomi',price:850,status:'preorder'}
];

let stored=JSON.parse(localStorage.getItem('products')||'[]');
let products=[...baseProducts,...stored];

const storageOptions=[128,256,512];
const storageMultiplier={128:1,256:1.15,512:1.3};

const colors=['Black','Silver','Blue','Gold','Purple'];

const shop=document.getElementById('shop');
const cartItems=document.getElementById('cartItems');
const totalEl=document.getElementById('total');
const paymentSummary=document.getElementById('paymentSummary');

let cart=[];

function render(){

const brand=document.getElementById('brandFilter').value;
const search=document.getElementById('search').value.toLowerCase();

shop.innerHTML='';

products
.filter(p=>(brand==='All'||p.brand===brand)&&p.name.toLowerCase().includes(search))
.forEach(p=>{

const card=document.createElement('div');
card.className='card';

const badge=p.status==='stock'
?'<div class="badge stock">In Stock</div>'
:'<div class="badge preorder">Pre Order</div>';

const storageSelect=`<select class="storage">${storageOptions.map(s=>`<option value="${s}">${s}GB</option>`).join('')}</select>`;
const colorSelect=`<select class="color">${colors.map(c=>`<option>${c}</option>`).join('')}</select>`;

card.innerHTML=`
${badge}
<h4>${p.name}</h4>
<p>From $${p.price}</p>
${storageSelect}
${colorSelect}
<button class="primary">Add</button>
`;

card.querySelector('button').onclick=()=>{
const storage=card.querySelector('.storage').value;
const color=card.querySelector('.color').value;
const finalPrice=Math.round(p.price*storageMultiplier[storage]);

cart.push({name:p.name,price:finalPrice,storage,color});
renderCart();
};

shop.appendChild(card);
});
}

function renderCart(){
cartItems.innerHTML='';
let total=0;

cart.forEach((item,i)=>{
const div=document.createElement('div');
div.textContent=`${item.name} ${item.storage}GB ${item.color} - $${item.price}`;

const btn=document.createElement('button');
btn.textContent='x';
btn.onclick=()=>{cart.splice(i,1);renderCart();};

div.appendChild(btn);
cartItems.appendChild(div);
total+=item.price;
});

totalEl.textContent=total;
updatePaymentSummary();
}

function updatePaymentSummary(){
const type=document.getElementById('paymentType').value;
const total=Number(totalEl.textContent);

if(type==='full') paymentSummary.textContent='Pay full amount now';

if(type==='cash') paymentSummary.textContent='Pay cash when delivered';

if(type==='preorder'){
const deposit=Math.round(total*0.7);
const balance=total-deposit;
paymentSummary.textContent=`Deposit $${deposit} now, balance $${balance} on delivery`;
}
}

document.getElementById('paymentType').onchange=updatePaymentSummary;

document.getElementById('brandFilter').onchange=render;
document.getElementById('search').oninput=render;

function checkout(){
alert('Order placed successfully');
cart=[];
renderCart();
}

function addProductAdmin(){
const name=document.getElementById('adminName').value;
const price=Number(document.getElementById('adminPrice').value);
const brand=document.getElementById('adminBrand').value;
const status=document.getElementById('adminStock').value;

const newProduct={name,price,brand,status};
products.push(newProduct);
stored.push(newProduct);
localStorage.setItem('products',JSON.stringify(stored));
render();
}

render();

</script>

</body>
</html>